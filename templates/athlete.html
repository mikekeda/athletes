{% extends 'base.html' %}
{% load static from staticfiles %}
{% load i18n %}
{% load humanize %}
{% load core_tags %}

{% block title %}{{ athlete.name }}{% endblock %}

{% block content %}
    <div class="athlete-page container mt-9">
        <div class="row">
            <div class="col-sm-4 float-left">
                {{ athlete.photo_preview }}
                <div class=" mt-3">
                    <form action="{% url 'core:athletes_list' %}" id="athletes_lists_form">
                        {% csrf_token %}
                        <input type="number" name="athlete" class="d-none" value="{{ athlete.id }}">
                        <label for="athletes_lists">{% trans "Is part of lists" %}:</label>
                        <select multiple name="athletes_lists" name="athletes_lists" id="athletes_lists" class="form-control select2">
                            {% for athletes_list in athletes_lists %}
                                <option {% if athletes_list.selected %}selected{% endif %} value="{{ athletes_list.pk }}">{{ athletes_list.name }}</option>
                            {% endfor %}
                        </select>
                    </form>
                </div>
            </div>
            <div class="col-sm-8 float-right">
                <h1>{{ athlete.name }}</h1>
                <p>Category: {{ athlete.category }}</p>
                <p>Gander: {{ athlete.get_gender_display }}</p>
                <p>Date of Birth (Age): {{ athlete.birthday }} ({{ athlete.age }})</p>
                <p>Place of Birth: <i class="flag flag-{{ athlete.domestic_market|lower }}"></i> {{ athlete.get_domestic_market_display }}</p>
                <p>Team: {% if athlete.team_model %}<a href="{% url 'core:team' athlete.team_model.pk %}">{{ athlete.team }}</a>{% else %}{{ athlete.team }}{% endif %}</p>
                <p>Location: <i class="flag flag-{{ athlete.location_market|lower }}"></i> {{ athlete.get_location_market_display }}</p>
                <p>Marketability: {{ athlete.marketability }}</p>
                <p>International: {{ athlete.international }}</p>
                <div>
                    {% if athlete.twitter_info %}
                        <a href="https://twitter.com/{{ athlete.twitter_info|get_item:'screen_name' }}" target="_blank"><img class="icon" src="{% static 'img/twitter.svg' %}" alt="twitter"></a>
                        <span class="badge">{{ athlete.twitter_info|get_item:'followers_count'|intcomma }}</span>
                    {% endif %}
                    {% if athlete.youtube_info %}
                        <a href="https://www.youtube.com/channel/{{ athlete.youtube_info|get_item:"channelId" }}" target="_blank"><img class="icon" src="{% static 'img/youtube.svg' %}" alt="youtube"></a>
                        <span class="badge">{{ athlete.youtube_info|get_item:'subscriberCount'|intcomma }}</span>
                    {% endif %}
                    <!--<a href="#" target="_blank"><img class="icon" src="{% static 'img/instagram.svg' %}" alt="instagram"></a>-->
                </div>
            </div>
        </div>
    </div>
{% endblock %}
